%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Beamer Presentation
% LaTeX Template
% Version 1.0 (10/11/12)
%
% This template has been downloaded from:
% http://www.LaTeXTemplates.com
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND THEMES
%----------------------------------------------------------------------------------------

\documentclass
		[
			xcolor = table,			% allows the coloring of whole tabular by changing the color before the definition of the tabular
			usenames,			% allows the usage of the names of the 16 default colors
			dvipsnames,			% allows the usage of the names of 64 additional colors
			svgnames,			% allows the usage of the names of ca. 150 additional colors
			x11names				% allows the usage of the names of ca. 300 additional colors
			final
		]{beamer}					% setting of the document class

\include{./tex/command_definitions_early}
\settoggle{bwmode}{false}				% enable/disable grayscale mode for the output (see ./tex/command_definitions.tex)

% Settings regarding the used fonts and typographical details:
\usepackage[utf8]{inputenc}					% character encoding of this .tex-file
\usepackage[T1]{fontenc}						% character encoding within the compiled document
\usepackage{libertine\ignore{, libertinust1math}}	% used font/fonts
\usepackage{microtype}						% enables microtypography (can be further configured but the default mode is well)

% Settings regarding the text alignment:
\usepackage
		[
			newcommands,				% the commands \centering, \raggedleft, and \raggedright are redefined to work like \Centering, \RaggedLeft, and \RaggedRight
			newparameters				% the commands \Centering, \RaggedLeft, and \RaggedRight don't behave like vanilla \centering, \raggedleft, and \raggedright 
		]{ragged2e}					% offers new environments for ragged ( and justified) text alignment with many parameters that can be changed using \setlength 
\usepackage{multicol}

% Settings regarding the used languages:
\usepackage[main = english, ngerman]{babel}	% define the used languages (has influence on different things like hyphenation, date format and figure labels)
\babeltags{eng = english, de = ngerman}		% allows to switch between the loaded languages by using the tags like \begin{<tag>} ... \end{<tag>} or \text<tag>{ ... }
\usepackage[
			detect-all]					% use the font settings of the surrounding text for numbers and units set with siunitx
		{siunitx}						% allows the easy typesetting of numbers, units and combinations including lists and ranges
\sisetup{
	range-phrase = \text{--},				% select the phrase between upper and lower bounds of ranges (here: -)
	binary-units = true,					% enable/disable loading of binary prefixes
	per-mode = fraction,					% select how to display \per (symbol: uses exponents; fraction: uses fractions)
	fraction-function = \sfrac}				% select the kind of fraction used in siunitx (e.g. frac, cfrac, rfrac, sfrac, ...)
\DeclareSIUnit{\euro}{\text{\texteuro}}		% define the unit \euro using the €-symbol
\DeclareSIUnit{\usdollar}{\text{US-\textdollar}}	% define the unit \usdollar using the US-$-symbol
\DeclareSIUnit{\cy}{\text{Cyc.}}				% define the unit \cy used for Cycles using the abbreviation Cyc.
\DeclareSIUnit\century{\text{century}}		% define the unit \century
\DeclareSIUnit\year{\text{year}}				% define the unit \year
\DeclareSIUnit\queries{\text{queries}}		% define the unit \queries
\DeclareSIUnit\transactions{\text{txn}}		% define the unit \transactions
\DeclareSIUnit\messages{\text{msg}}		% define the unit \messages

\usepackage{graphicx}				% allows including of graphics and the scaling and rotating of elements
\usepackage{etoolbox}				% toolbox used by packages and classes
\usepackage{xpatch}					% extends the patching facility of etoolbox
%\usepackage{csquotes}				% context sensitive quotation environment e.g. used by biblatex
%\usepackage{datenumber}			% allows to create a number from a date and especially it allows to create a specific date
%\usepackage{tabularx}				% a tabular* environment that can control the width of columns
\usepackage{multirow}				% allows tabular cells spanning multiple rows
\usepackage{prelim2e}				% marks every page as being a preliminary version when this document is compiled as a draft

\usepackage
		[
			style = alphabetic, 		% select the style of the citation and of the bibliography
			backend = biber		% select the backend that processes the .bib file (run the selected backend instead of BibTeX)
		]{biblatex}					% used to create the bibliography, more modern alternative to the standard BibTeX
\addbibresource[datatype = bibtex]{./tex/references.bib}		% loads the specified bibliography file (in BibTeX format) into BibLaTeX
\usepackage{breakcites}				% multiple citations within one \cite break at the end of the line
\usepackage{hyperref}				% allows hyperlinks within the output document (hyperfootnotes = false to make it compatible with package footmisc)
\usepackage{nameref}				% allows the usage of the command \nameref which prints the title of the referenced label instead of its number

\usepackage{tikz}					% extremely powerful facility to create diagrams
\usetikzlibrary{shapes.geometric, shapes.misc, shapes.callouts, shapes.multipart, shapes.symbols}			% provide several shapes besides the standard ones
\usetikzlibrary{arrows.meta}			% 
\usetikzlibrary{decorations.pathreplacing}	% allows decorated paths without having the original (undecorated) line
\usetikzlibrary{decorations.pathmorphing}	% 
\usetikzlibrary{patterns}				% allows the usage of several patterns to fill shapes
\usetikzlibrary{positioning}				% defines additional options for placing nodes conventionally
\usetikzlibrary{calc}					% allows extended coordinate calculation
\usetikzlibrary{spy}					% allows the magnification of parts of a tikz diagram
\usetikzlibrary{chains}				% allows the creation of chains of nodes
\usepackage{pgfplots}				% allows the creation of plots to visualize data
\usepackage{pgfplotstable}			% allows the loading of .csv-files for pgfplots
\usepgflibrary{plotmarks}				% extends the available plot marks used e.g. for pgfplots
\usepgfplotslibrary{fillbetween}			% allows the filling of areas between curves of pgfplots using colors or patterns
\usetikzlibrary{fit}					% 
\usepackage{./tex/tikz-uml}			% 
\usepackage{ifthen}					% allows the usage of the \ifthenelse control structure and some boolean operations with it

\pgfplotsset{compat = 1.14}

\newcommand{\tikzmark}[2]{\tikz[overlay, remember picture, baseline = (#1.base)] \node (#1) {#2};}

\usepackage{xstring}				% 
\usepackage{xfrac}					% adds the \sfrac fraction mode
\usepackage{rotating}				% allows different kinds of rotations for many kinds of elements
\usepackage{stackengine}			% allows the stacking of elements like symbols
\usepackage{bm}						% adds one way of bold math
\usepackage{ulem}					% allows many kinds of text decorations like underlines or strikes
\robustify\uline					% allows the usage of \uline together with typewriter fonts
\normalem							% \emph uses italic fonts to emphasize text

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{url, enumerate, relsize, color, ulem}
\usepackage{anyfontsize}
\usepackage{adjustbox}
\usepackage{listings}

\usepackage{geometry}
\usepackage{setspace}
\usepackage{wrapfig}
\usepackage[para]{footmisc}
\usepackage{calc}

\usepackage{scalerel}
\newcommand\dangersign[1][2ex]{%
  \renewcommand\stacktype{L}%
  \scaleto{\stackon[1.3pt]{\color{red}$\triangle$}{\tiny\textrm{!}}}{#1}%
}

\newcommand{\tabitem}{~~\llap{\textbullet}~~}

\defbibenvironment{bibliography}
  {\list{}
     {\settowidth{\labelwidth}{\usebeamertemplate{bibliography item}}%
      \setlength{\leftmargin}{\labelwidth}%
      \setlength{\labelsep}{\biblabelsep}%
      \addtolength{\leftmargin}{\labelsep}%
      \setlength{\itemsep}{\bibitemsep}%
      \setlength{\parsep}{\bibparsep}}}
  {\endlist}
  {\item}
  
\let\thempfootnote\thefootnote

\mode<presentation> {
\usetheme{Dresden}

\newcommand{\frameofframes}{/}
\newcommand{\setframeofframes}[1]{\renewcommand{\frameofframes}{#1}}
\setframeofframes{of}

\setbeamertemplate{headline}
{%
  \begin{beamercolorbox}[colsep=1.5pt]{upper separation line head}
  \end{beamercolorbox}
  \begin{beamercolorbox}{section in head/foot}
    \vskip2pt\insertsectionnavigationhorizontal{\textwidth}{}{}\vskip2pt
  \end{beamercolorbox}%
    \begin{beamercolorbox}[colsep=1.5pt]{middle separation line head}
    \end{beamercolorbox}
    \begin{beamercolorbox}[ht=2.5ex,dp=1.125ex,%
      leftskip=.3cm,rightskip=.3cm plus1fil]{subsection in head/foot}
      \usebeamerfont{subsection in head/foot}\insertsubsectionhead
      \hfill%
      {\usebeamerfont{frame number}\usebeamercolor[fg]{frame number}\insertframenumber~\frameofframes~\inserttotalframenumber}    \end{beamercolorbox}%
  \begin{beamercolorbox}[colsep=1.5pt]{lower separation line head}
  \end{beamercolorbox}
}

%\setbeamertemplate{navigation symbols}{} % To remove the navigation symbols from the bottom of all slides uncomment this line
}

\usepackage{booktabs} % Allows the use of \toprule, \midrule and \bottomrule in tables

\include{./tex/tu_logo}

\include{./tex/se}

\include{./tex/delegation}

\include{./tex/dora}

\include{./tex/pse}

\newcommand{\lock}[3]{%
	$\text{lock}_{\tikz{\node[transaction] (t#1) {$t_#1$};}}\left(#2, #3\right)$%
}
\newcommand{\cancelledLock}[3]{%
	$\text{lock}_{\tikz{\node[transaction] (t#1) {$t_#1$};\node[cancel] at (t#1) {};}}\left(#2, #3\right)$%
}
\newcommand{\unlock}[2]{%
	$\text{unlock}_{\tikz{\node[transaction] (t#1) {$t_#1$};}}\left(#2\right)$%
}
	
\include{./tex/dlDetect}

\include{./tex/noWait}

\include{./tex/2vNoWait}

\include{./tex/silo}

\newlength\architecturesheight
\settoheight\architecturesheight{%
	\begin{tabular}{>{\raggedleft}m{.15\linewidth}cc>{\raggedright}m{.15\linewidth}}
		Shared Everything	&	\seDiagram		&	\doraDiagram	&	Data-Oriented Transaction Execution (DORA)	\\
		Delegation		&	\delegationDiagram	&	\pseDiagram	&	Partitioned Serial Execution (PSE)
	\end{tabular}%
}

\include{./tex/command_definitions_late}

\newlength{\enhancedtextwidth}
\setlength{\enhancedtextwidth}{\dimexpr\textwidth+4em}
	
\newlength{\fiberwidth}
\settowidth{\fiberwidth}{Fiber 0 \textit{suspended}}
	
\lstset{basicstyle = \ttfamily}

% secIntro,dbmsRequirements,dbmsProperties,secArchi,subsecSE,se,seProCon,subsecDORA,dora,doraExample,doraProCon,doraProCon,subsecDelegation,delegation,delegationExample,delegationProCon,subsecPSE,pse,pseProCon,archiSummary,subsecDLDETECT,dlDetect,dlDetectExample,dlDetectProCon,subsecNOWAIT,noWait,noWaitExample,noWaitProCon,subsec2VNOWAIT,2vNoWait,2vNoWaitProtocol,2vNoWaitProCon,secEval,testSetUp,benchmarks,readThroughput,readThroughputMultiSite,updateThroughput,readYCSB,updateYCSB,updateYCSBTheta,mixedYCSB,discussion,conclusion
%\includeonlyframes{title,toc,end,secCC,subsecSILO,silo,siloProCon}

\begin{document}

\newlength{\lockwidth}
\settowidth{\lockwidth}{\lstinline{X} $\left(t_2\right)$}
\newlength{\datawidth}
\settowidth{\datawidth}{$x_1'''$}

%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------

\title[Analyzing the Impact of System Architecture on the Scalability of OLTP Engines for High--Contention Workloads \textit{by R. Appuswamy et al.}]{Analyzing the Impact of System Architecture on the Scalability of OLTP Engines for High--Contention Workloads \newline\textit{by R. Appuswamy, A. Anadiotis, D. Porobic, M. Iman, A. Ailamaki}} % The short title appears at the bottom of every slide, the full title is only on the title page

\addauthor{Max Gilbert}{m\_gilbert13@cs.uni-kl.de}
\setauthors

\institute[Technische Universität Kaiserslautern] % Your institution as it will appear on the bottom of every slide, may be shorthand to save space
{
Lehrgebiet Informationssysteme \\ \medskip
Technische Universität Kaiserslautern % Your institution for the title page
}
\date{\specificdate{2018}{7}{16}} % Date, can be changed to a custom date

\tikzset{%
	invisible/.style = {opacity = 0},
	visible on/.style = {alt = {#1{}{invisible, prefix after command = {\pgfextra{\tikzset{every label/.style = {invisible}}}}}}},
	alt/.code args = {<#1>#2#3}{\alt<#1>{\pgfkeysalso{#2}}{\pgfkeysalso{#3}}},
	onslide/.code args={<#1>#2}{\only<#1>{\pgfkeysalso{#2}}},
}

\pgfplotsset{
	select row/.style = {
    	x filter/.code = {\ifnum\coordindex = #1\else\def\pgfmathresult{}\fi}
	}
}

{%
	\setbeamertemplate{background canvas}{%
		\vbox to \paperheight{%
			\vfil\hbox to \paperwidth{%
				\hfil\begin{adjustbox}{height = .825\paperheight}%
				\TULogo[.2]%
				\end{adjustbox}\hfil%
			}\vfil%
		}%
	}%
	 \begin{frame}%
		\titlepage%
	\end{frame}%
}

{%
	\setbeamertemplate{section in toc}[circle]
	\setbeamertemplate{subsection in toc}[square]
	 \begin{frame}
		\frametitle{Table of Contents}
%		\begin{multicols}{2}
			\scriptsize
			\tableofcontents%[pausesections = true]
%		\end{multicols}%
	\end{frame}%
}

% Main-Memory-DBMS
% Problems with their measurements

%----------------------------------------------------------------------------------------
%	PRESENTATION SLIDES
%----------------------------------------------------------------------------------------

	\include{./tex/introduction}
	
	\include{./tex/architectures}

	\include{./tex/concurrency}

	\include{./tex/evaluation}
	
\subsection*{}
 \begin{frame}[t, allowframebreaks]
    \frametitle{References}
    \printbibliography
\end{frame}

%------------------------------------------------
\section*{End}
%------------------------------------------------

 \begin{frame}
\Huge{\centerline{Any Questions?}}
\end{frame}

%----------------------------------------------------------------------------------------

\end{document} 